---
title: sub-task 시작 
date: 2023-01-02
---

# SubTask

> "bosh runtime-config : cce-check release 자동화 기능 구현 I txt 파일들 지정된 ip로 이동 (scp 활용) "
> .txt file이 [있다는 가정하에 진행]
> mysql --> 파일복사 (linux파일들을 cce폴더로) -> 압축  -> inception으로 옮겨오기 진행

```shell
ubuntu@paasta-ta-bami-inception-1:~/workspace/PAAS-TA-MYSQL-RELEASE$ bosh -e micro-bosh create-release --name=paasta-mysql --version=2.2.0 --tarball=~/workspace/PAAS-TA-MYSQL-RELEASE/src.zip --force
Added dev release 'paasta-mysql/2.2.0'

Name         paasta-mysql  
Version      2.2.0  
Commit Hash  a1a3e33+  
Archive      /home/ubuntu/workspace/PAAS-TA-MYSQL-RELEASE/src.zip  

Job                                                                                    Digest                                                                   Packages  
op-mysql-java-broker/b64e749fee19d372b8da87ab07440414d1fd829ac668ab0464c72d81a7d4ff94  sha256:ef0030ec009e3d6ddc3adb5b7af4a1f6f1240d6d7328e65f91f234be71df2b3d  openjdk  
                                                                                                                                                                op-mysql-java-broker  

1 jobs

Package                                                                                Digest                                                                   Dependencies  
op-mysql-java-broker/d66383ebb0a3bf65bfb3ed6e052eb30c35a06b4057da4bf4006c464c379f9c4a  sha256:fe03434ea2c675da3f5b2e72c972d71b00bd47966886fc4ea13063d347956f82  -  
openjdk/6a6af1fd7eebab1c4d975a14c1ef269faeb62c01dc45de66579af51f710c34de               sha256:5e6a18f135a891aa450545ed745ee20b06350262254684fef0f71b261a11f14f  -  

2 packages

Succeeded
```

# ToDO

1. 순서 
    txt file --> .sh 생성 --> inception주입 

2. 우선순위
    1) inception에 주입하기 위해서는 아래의  파일을 받기 위한 셋팅 과정 필요  
    --> "산출물 설치 ftp guide.md" 생성하기  : ftp service 설치..! 

    2) var/vcap/cce
    .txt로 생성된 파일들을  압축하기
    "-> scp명령어 사용하여 inception으로 넘기는 .sh 만들기

    ```shell
     bosh -e micro-bosh -d mysql scp /tmp/linux_v4.1.zip mysql-broker/cfee565f-a2a6-4542-b40b-249d0552be09:/tmp/linux-script.zip
    ```

    3) cce-cehck release 사용
    .sh 실행했을 때 정상적으로 넘어오는지 확인
    release 파일을 커스터마이징 해서 배포 이후 파일을 inception으로 이동.
    create-releas.sh 를 커스터마이징한 후 create-releas.sh을 실행 -> cce-check.yml을 포함한 deploy.sh실행 -> 해당 service script/post-deploy.sh.erb에 source 태그를 만들어준다. ( 이는 검사를 하고 난 후 해당 vm에 생성된 txt파일을 inception으로  이동시키는 자동화를 구현하는것임. )

    보너스 ) 어떤 서비스에서 끌어왔는지 알 수 있으면 더 좋을 것이다 ! (ex mysql-broker name import)